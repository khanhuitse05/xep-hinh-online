package Server;

import org.jboss.netty.channel.ChannelFuture;
import org.jboss.netty.channel.ChannelFutureListener;
import org.jboss.netty.channel.ChannelHandlerContext;
import org.jboss.netty.channel.ChannelStateEvent;
import org.jboss.netty.channel.SimpleChannelHandler;

public class SocketServerHandler extends SimpleChannelHandler
{
	// Send message
	@Override
	public void channelConnected(ChannelHandlerContext ctx, ChannelStateEvent e) 
	{
		/*
		MessageObject message = new MessageObject("Hello babe");
		ChannelFuture f = e.getChannel().write(message);
		f.addListener(ChannelFutureListener.CLOSE);
		*/
	}
	
	@Override
	public void messageReceived(ChannelHandlerContext ctx, MessageEvent e) 
	{
        MessageObject m = (MessageObject) e.getMessage();
        System.out.println("Server: " + m.getContent());        
        e.getChannel().close();
	}
}
